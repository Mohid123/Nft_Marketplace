"use strict";(self.webpackChunknft_panel=self.webpackChunknft_panel||[]).push([[592],{9554:(P,n,t)=>{t.d(n,{t:()=>p});var i=t(4808),l=t(5094),c=t(4294),E=t(9922),u=t(2352),a=t(7716),v=t(1841),h=t(8586),d=t(9344);let p=(()=>{class e extends u.s{constructor(s,r,o){super(s),this.http=s,this.customDialogService=r,this.toastr=o,this._purchaseSuccess$=new l.X(null),this.purchaseSuccess$=this._purchaseSuccess$.asObservable()}addKey(s){return this.post("/creator/validateAndSaveStripeSecretKey",s).pipe((0,c.q)(1),(0,E.b)(r=>{!r.hasErrors()&&r.data.isValid?(0,i.LS)(i.MX.Key,r.data.isValid):console.log("invalid key")}))}purchaseNFT(s){this.stripePay(s).pipe((0,c.q)(1)).subscribe(r=>{var o,_;r.hasErrors()?this.toastr.warning(null===(_=null===(o=r.errors[0])||void 0===o?void 0:o.error)||void 0===_?void 0:_.message,"Error!"):(this.customDialogService.showLoadingDialog("Transferring In Process"),setTimeout(()=>{this.customDialogService.closeDialogs()},3e3),this._purchaseSuccess$.next(s.nftId),console.log("success:",r))})}stripePay(s){return this.post("/nft/buyNft/"+s.nftId,s)}}return e.\u0275fac=function(s){return new(s||e)(a.LFG(v.eN),a.LFG(h.W),a.LFG(d._W))},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()}}]);