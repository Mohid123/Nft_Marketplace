"use strict";(self.webpackChunknft_panel=self.webpackChunknft_panel||[]).push([[776],{5776:(I,m,r)=>{r.r(m),r.d(m,{CreateGroupDialogModule:()=>w});var s=r(8583),n=r(3679),u=r(6237),c=r(9344),d=r(3291),h=r(1964),f=r(4294),C=r(7580),o=r(7716),v=r(7423),M=r(8879),O=r(1659),P=r(6658),x=r(1841);function Z(t,l){1&t&&(o.TgZ(0,"p",16),o._uU(1,"please enter name"),o.qZA())}function F(t,l){if(1&t&&(o.TgZ(0,"p",16),o._uU(1),o.qZA()),2&t){const i=o.oxw();o.xp6(1),o.hij("name should be greater than or equal to ",null==i.groupForm.controls.name.errors?null:i.groupForm.controls.name.errors.minlength.requiredLength," character ")}}function b(t,l){1&t&&(o.TgZ(0,"p",16),o._uU(1,"please enter description"),o.qZA())}function T(t,l){if(1&t&&(o.TgZ(0,"p",16),o._uU(1),o.qZA()),2&t){const i=o.oxw();o.xp6(1),o.hij("description should be greater than or equal to ",null==i.groupForm.controls.description.errors?null:i.groupForm.controls.description.errors.minlength.requiredLength," character ")}}let G=(()=>{class t{constructor(i,e,a,g,p,A,y,_){this.authService=i,this.customDialogService=e,this.formBuilder=a,this.groupService=g,this.mediaService=p,this.http=A,this.toastr=y,this.cf=_,this.imgFormData=new FormData,this.groupForm=this.formBuilder.group({name:new n.NI("",[n.kI.required,n.kI.minLength(3),n.kI.maxLength(7)]),description:new n.NI("",[n.kI.required,n.kI.minLength(3),n.kI.maxLength(100)]),file:new n.NI("")})}addGroup(){const i=document.getElementById("group-img");d.YM(i,{canvasWidth:186,canvasHeight:162,width:186,height:162,quality:1,pixelRatio:1,skipAutoScale:!1}).then(e=>{this.groupForm.patchValue({file:this.mediaService.dataURLtoFile(e,this.groupForm.controls.name.value+".png")}),this.imgFormData.append("file",this.groupForm.get("file").value),this.mediaService.uploadMedia("group",this.imgFormData).pipe((0,f.q)(1),(0,C.z)(a=>{var g;if(a.hasErrors())return(0,h.of)(null);{const p={name:this.groupForm.controls.name.value,description:this.groupForm.controls.description.value,appPackageId:null===(g=this.authService.loggedInUser)||void 0===g?void 0:g.appPackageId,coverImageUrl:a.data.url};return this.groupService.addGroups(p)}})).subscribe(a=>{var g,p;null!==a?(this.cf.detectChanges(),this.close(),this.toastr.success("New group successfully added.","Success!")):this.toastr.warning(null===(p=null===(g=a.errors[0])||void 0===g?void 0:g.error)||void 0===p?void 0:p.message,"Error!")})}).catch(e=>{console.error("oops, something went wrong!",e)})}close(){this.customDialogService.closeDialogs()}}return t.\u0275fac=function(i){return new(i||t)(o.Y36(v.e),o.Y36(M.W),o.Y36(n.qu),o.Y36(O.l),o.Y36(P.y),o.Y36(x.eN),o.Y36(c._W),o.Y36(o.sBO))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-create-group"]],decls:27,vars:7,consts:[[1,"group-model"],[1,"flex","justify-end"],[1,"btn-close",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"w-5","h-5"],["fill-rule","evenodd","d","M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule","evenodd"],[2,"position","absolute","right","0","top","0"],["id","group-img",2,"position","relative","top","0","width","182px","text-align","center","right","0","height","162px","overflow","hidden"],[2,"background-color","#D99F3A","transform","rotate(41.3deg)","top","21%","width","300px","position","absolute","right","-50%","height","52px","font-weight","400","font-size","32px"],[1,"group-form",3,"formGroup"],["for","name"],["type","text","formControlName","name","maxlength","7"],["class","error-msg error",4,"ngIf"],["for","description",1,"floating-label"],["type","text","formControlName","description"],[1,"icon","description-hide-icon"],[1,"primary-btn",3,"disabled","click"],[1,"error-msg","error"]],template:function(i,e){1&i&&(o.TgZ(0,"div",0),o.TgZ(1,"div",1),o.TgZ(2,"button",2),o.NdJ("click",function(){return e.close()}),o.O4$(),o.TgZ(3,"svg",3),o._UZ(4,"path",4),o.qZA(),o.qZA(),o.qZA(),o.kcU(),o.TgZ(5,"h1"),o.TgZ(6,"span"),o._uU(7,"Cre"),o.qZA(),o._uU(8,"ate Group"),o.qZA(),o.TgZ(9,"div",5),o.TgZ(10,"div",6),o.TgZ(11,"div",7),o._uU(12),o.qZA(),o.qZA(),o.qZA(),o.TgZ(13,"form",8),o.TgZ(14,"label",9),o._uU(15,"Name"),o.qZA(),o._UZ(16,"input",10),o.YNc(17,Z,2,0,"p",11),o.YNc(18,F,2,1,"p",11),o.TgZ(19,"label",12),o._uU(20,"Description"),o.qZA(),o._UZ(21,"textarea",13),o._UZ(22,"span",14),o.YNc(23,b,2,0,"p",11),o.YNc(24,T,2,1,"p",11),o.TgZ(25,"button",15),o.NdJ("click",function(){return e.addGroup()}),o._uU(26," Add Group "),o.qZA(),o.qZA(),o.qZA()),2&i&&(o.xp6(12),o.hij(" ",e.groupForm.controls.name.value," "),o.xp6(1),o.Q6J("formGroup",e.groupForm),o.xp6(4),o.Q6J("ngIf",e.groupForm.controls.name.touched&&(null==e.groupForm.controls.name.errors?null:e.groupForm.controls.name.errors.required)),o.xp6(1),o.Q6J("ngIf",e.groupForm.controls.name.touched&&(null==e.groupForm.controls.name.errors?null:e.groupForm.controls.name.errors.minlength)),o.xp6(5),o.Q6J("ngIf",e.groupForm.controls.description.touched&&(null==e.groupForm.controls.description.errors?null:e.groupForm.controls.description.errors.required)),o.xp6(1),o.Q6J("ngIf",e.groupForm.controls.name.touched&&(null==e.groupForm.controls.description.errors?null:e.groupForm.controls.description.errors.minlength)),o.xp6(1),o.Q6J("disabled",!e.groupForm.valid))},directives:[n._Y,n.JL,n.sg,n.Fj,n.JJ,n.u,n.nD,s.O5],styles:[".create-group-dialog-overlay{height:auto;min-height:584px;max-width:580px!important}.group-model[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding-left:0;padding-right:0}@media (min-width: 640px){.group-model[_ngcontent-%COMP%]{padding-left:4rem;padding-right:4rem}}.group-model[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{position:absolute;top:0px;right:0px;z-index:10;margin:.875rem;border-radius:9999px;--tw-bg-opacity: 1;background-color:rgba(255,255,255,var(--tw-bg-opacity));opacity:.5}.group-model[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]:hover{opacity:.7}.group-model[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{padding:1px}.group-model[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:#132356}.group-model[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-top:1.5rem;object-fit:scale-down}@media (min-width: 640px){.group-model[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-top:1.5rem}}@media (min-width: 768px){.group-model[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-top:3rem}}.group-model[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:410px;height:90px}.group-model[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-top:1rem;margin-bottom:1rem;align-self:flex-start;font-size:1.875rem;line-height:2.25rem;font-weight:400}.group-model[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding-bottom:4px;border-bottom:2px solid #75F16D}.group-model[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;width:100%;flex-direction:column}.group-model[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{padding-top:1rem;padding-bottom:1rem;font-size:1.125rem;line-height:1.75rem}.group-model[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:3.5rem;padding-left:1.25rem;padding-right:1.25rem}.group-model[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding:1.25rem;height:156px}.group-model[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding-left:.5rem;padding-right:.5rem}.group-model[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:2rem;margin-bottom:2rem;height:2.75rem;width:10rem;align-self:center}"]}),t})(),w=(()=>{class t{static getCreateGroupComponent(){return G}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[s.ez,n.u5,n.UX,u.PW,c.Rh.forRoot({positionClass:"toast-top-right"})]]}),t})()}}]);